{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"MkDocs KaTeX SSR Plugin","text":"<p>A MkDocs plugin that renders LaTeX math on the server side using KaTeX, offering faster load times, layout stability, and optional offline support.</p> <p>[!NOTE] Maintenance Philosophy: This project is self-maintained. I welcome bug reports and corrections, but please note that I may not have the bandwidth to accept significant feature requests or major functional additions. Pull requests for bug fixes are appreciated.</p> <p>This project's code and documentation were generated by Antigravity (Google DeepMind) and verified by the maintainer.</p>"},{"location":"#why-server-side-rendering-ssr","title":"Why Server-Side Rendering (SSR)?","text":"<p>Traditional client-side rendering relies on JavaScript in the browser to convert LaTeX strings into HTML. This can lead to:</p> <ul> <li>Layout Shift: Content jumps as math loads.</li> <li>Slower Performance: The browser must download and parse the KaTeX library before rendering.</li> <li>Dependency: Requires client-side JavaScript execution.</li> </ul> <p>MkDocs KaTeX SSR pre-renders all math during the <code>mkdocs build</code> process using a local Node.js process. The resulting HTML contains ready-to-view markup.</p>"},{"location":"#features","title":"Features","text":"<ul> <li>High Performance: Uses a persistent Node.js process to render equations efficiently without spawning a new process for every item.</li> <li>Offline Support: Optional \"Offline Mode\" copies all necessary CSS, fonts, and scripts to your site directory, removing external CDN dependencies.</li> <li>Smart Asset Management: Separate configuration for server-side processing scripts (like <code>mhchem</code>) and client-side interactive scripts (like <code>copy-tex</code>).</li> <li>Clean Output: Aggressive warning suppression for a quieter build log.</li> </ul>"},{"location":"configuration/","title":"Configuration","text":"<p>Enable the plugin in your <code>mkdocs.yml</code>:</p> <pre><code>markdown_extensions:\n  - pymdownx.arithmatex:\n      generic: true\n\nplugins:\n  - katex-ssr:\n      # ... options ...\n</code></pre>"},{"location":"configuration/#basic-options","title":"Basic Options","text":"Option Type Default Description <code>katex_dist</code> str jsDelivr Base URL for CDN, or local file path to KaTeX distribution. Default: <code>https://cdn.jsdelivr.net/npm/katex@latest/dist/</code> <code>add_katex_css</code> bool <code>true</code> Whether to automatically inject the CSS link tag into the page head. <code>katex_css_filename</code> str <code>katex.min.css</code> The filename of the CSS file to load. Setting this to <code>katex-swap.min.css</code> is recommended for better font loading performance (<code>font-display: swap</code>). <code>katex_options</code> dict <code>{}</code> Standard options passed directly to <code>katex.renderToString</code>. Use this to define macros (e.g., <code>\\RR</code>), set limits, etc."},{"location":"configuration/#script-loading-hybrid-mode","title":"Script Loading (Hybrid Mode)","text":"<p>The plugin distinguishes between scripts needed for rendering (SSR) and scripts needed for interaction (Client-side).</p>"},{"location":"configuration/#server-side-ssr_contribs","title":"Server-Side (<code>ssr_contribs</code>)","text":"<p>Scripts listed here are loaded only in the Node.js renderer. They affect the generated HTML but are not sent to the client browser.</p> <p>Use this for extensions that modify the output HTML, such as <code>mhchem</code>.</p> <pre><code>plugins:\n  - katex-ssr:\n      ssr_contribs:\n        - mhchem\n</code></pre>"},{"location":"configuration/#client-side-client_scripts","title":"Client-Side (<code>client_scripts</code>)","text":"<p>Scripts listed here are injected into the HTML as <code>&lt;script&gt;</code> tags. They run in the user's browser.</p> <p>Use this for interactive features, such as <code>copy-tex</code> (clipboard support).</p> <pre><code>plugins:\n  - katex-ssr:\n      client_scripts:\n        - copy-tex\n</code></pre>"},{"location":"configuration/#offline-mode","title":"Offline Mode","text":"<p>To create a self-contained documentation site that works without an internet connection, use <code>embed_assets</code>.</p> <pre><code>plugins:\n  - katex-ssr:\n      embed_assets: true\n      # Optional: Explicitly point to local node_modules if not auto-detected\n      # katex_dist: \"./node_modules/katex/dist/\"\n</code></pre> <p>How it works:</p> <ol> <li>Copies Assets: The plugin locates <code>katex.min.css</code> (or your configured filename), the <code>fonts/</code> folder, and any scripts listed in <code>client_scripts</code> from your local <code>node_modules</code> directory.</li> <li>Destinations: Files are copied to <code>site/assets/katex/</code> (configurable via <code>copy_assets_to</code>).</li> <li>Linking: HTML files are updated to point to these local assets using relative paths (e.g., <code>../assets/katex/katex.min.css</code>), ensuring they work even if you open the HTML file directly from your disk.</li> </ol>"},{"location":"demo/","title":"Math Rendering Demo","text":"<p>This page demonstrates the server-side rendering capabilities of the plugin.</p>"},{"location":"demo/#inline-math","title":"Inline Math","text":"<p>The equation \\(E = mc^2\\) is rendered inline.</p>"},{"location":"demo/#block-math","title":"Block Math","text":"\\[ \\frac{1}{2\\pi}\\int_{-\\infty}^{\\infty} e^{-\\frac{x^2}{2}} dx = 1 \\]"},{"location":"demo/#matrices","title":"Matrices","text":"\\[ \\begin{pmatrix} a &amp; b \\\\ c &amp; d \\end{pmatrix} \\]"},{"location":"demo/#chemical-formulas-mhchem","title":"Chemical Formulas (mhchem)","text":"<p>Since <code>mhchem</code> is enabled in <code>ssr_contribs</code>:</p> \\[ \\ce{CO2 + C -&gt; 2 CO} \\] \\[ \\ce{Hg^2+ -&gt;[I-] HgI2 -&gt;[I-] [Hg^{II}I4]^2-} \\]"},{"location":"demo/#macros","title":"Macros","text":"<p>Using the defined macro <code>\\RR</code>:</p> \\[ x \\in \\RR \\]"},{"location":"getting-started/","title":"Installation","text":""},{"location":"getting-started/#prerequisites","title":"Prerequisites","text":"<ul> <li>Node.js: Must be installed and available in your system PATH.</li> <li>Python: 3.8+</li> </ul>"},{"location":"getting-started/#install-plugin","title":"Install Plugin","text":"<p>You can install the plugin directly from PyPI:</p> <pre><code>pip install mkdocs-katex-ssr\n</code></pre> <p>Alternatively, if you are installing from source:</p> <pre><code>git clone https://github.com/raineblog/mkdocs-katex-ssr.git\ncd mkdocs-katex-ssr\npip install .\n</code></pre>"},{"location":"troubleshooting/","title":"Troubleshooting","text":""},{"location":"troubleshooting/#katex-module-not-found","title":"<code>katex</code> module not found","text":"<p>Error:</p> <pre><code>Error: Cannot find module 'katex'\n</code></pre> <p>Solution: The Node.js renderer needs to be able to find the <code>katex</code> package.</p> <ol> <li>Ensure you have run <code>npm install katex</code> (or <code>pnpm</code>/<code>yarn</code>) in the root of your project or in the directory where <code>mkdocs.yml</code> is located.</li> <li>If your <code>node_modules</code> is in a non-standard location, you can point to it explicitly using <code>katex_dist</code>.</li> </ol>"},{"location":"troubleshooting/#nodejs-not-found","title":"Node.js not found","text":"<p>Error:</p> <pre><code>FileNotFoundError: [WinError 2] The system cannot find the file specified\n</code></pre> <p>(or similar <code>subprocess</code> errors)</p> <p>Solution: The plugin requires <code>node</code> to be in your system's PATH.</p> <ul> <li>Open a terminal and run <code>node --version</code> to verify it is installed and accessible.</li> <li>If running in a CI/CD environment, ensure a \"Setup Node\" step is included before the MkDocs build.</li> </ul>"},{"location":"troubleshooting/#build-warnings","title":"Build Warnings","text":"<p>This plugin includes aggressive warning suppression to silence deprecation warnings often emitted by <code>pkg_resources</code> and valid but noisy logs from libraries like <code>jieba</code>.</p> <p>If you still see warnings, please verify you are using the latest version of the plugin.</p>"}]}